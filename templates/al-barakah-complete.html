{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Al Barakah Scents - Complete Catalog | Natural Islamic Perfumes & Attars</title>
    <meta name="description" content="Complete catalog of premium Islamic perfumes and natural attars. Browse our full collection with prices and easy ordering.">
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" integrity="sha384-4L1lY+9JoW7g0a3P6C0s3Z1bF7Oo4oB9fU8Y9j3q2q2q2q2q2q2q2q2q2q2q2q2" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="icon" href="{% static 'images/logo.png' %}" type="image/png">

    <style>
        :root {
            --brand-green: #1a472a;
            --brand-green-light: #22c55e;
            --brand-green-dark: #166534;
            --brand-black: #000000;
            --brand-white: #ffffff;
            --brand-gold: #ffd700;
        }

        /* Brand Colors */
        .brand-bg-black { background-color: var(--brand-black) !important; }
        .brand-text-gold { color: var(--brand-gold) !important; }
        .brand-bg-gold { background-color: var(--brand-gold) !important; }
        .brand-text-green { color: var(--brand-green) !important; }
        .brand-bg-green { background-color: var(--brand-green) !important; }
        .brand-bg-green-dark { background-color: var(--brand-green-dark) !important; }
        .text-primary { color: var(--brand-green) !important; }

        /* Hero Section */
        .hero-section {
            background-image: url('https://images.pexels.com/photos/10924510/pexels-photo-10924510.jpeg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            min-height: 70vh;
            position: relative;
        }

        .hero-overlay {
            background: linear-gradient(135deg, rgba(26, 71, 42, 0.85), rgba(22, 101, 52, 0.8));
        }

        .hero-dark-overlay {
            background-color: rgba(0, 0, 0, 0.4);
        }

        /* Navigation */
        .navbar-brand {
            font-weight: 700;
            font-size: 1.4rem;
        }

        .navbar-nav .nav-link:hover {
            color: var(--brand-gold) !important;
        }

        .nav-link.active {
            color: var(--brand-gold) !important;
        }

        /* Product Cards */
        .product-card {
            transition: all 0.3s ease;
            border: none;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            height: 100%;
        }

        .product-card:hover {
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            transform: translateY(-5px);
        }

        .product-image {
            aspect-ratio: 1;
            background-color: #f8f9fa;
            overflow: hidden;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 0.5rem;
            transition: transform 0.3s ease;
        }

        .product-card:hover .product-image img {
            transform: scale(1.05);
        }

        /* Buttons */
        .btn-add-cart {
            background-color: var(--brand-green);
            border-color: var(--brand-green);
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .btn-add-cart:hover {
            background-color: var(--brand-green-dark);
            border-color: var(--brand-green-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .btn-explore {
            background-color: var(--brand-gold);
            border-color: var(--brand-gold);
            color: #000;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-explore:hover {
            background-color: #e6c200;
            border-color: #e6c200;
            color: #000;
            transform: scale(1.05);
        }

        /* Cart */
        .cart-badge {
            background-color: var(--brand-gold);
            color: #000;
            font-size: 0.75rem;
            font-weight: bold;
        }

        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -450px;
            width: 450px;
            height: 100vh;
            background: white;
            z-index: 1055;
            transition: right 0.3s ease;
            box-shadow: -2px 0 15px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .cart-sidebar.show {
            right: 0;
        }

        .cart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1050;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .cart-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        /* WhatsApp Floating Button */
        .whatsapp-float {
            position: fixed;
            bottom: 25px;
            right: 25px;
            width: 60px;
            height: 60px;
            background-color: #25d366;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
            transition: all 0.3s ease;
            cursor: pointer;
            animation: pulse 2s infinite;
        }

        .whatsapp-float:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(37, 211, 102, 0.6);
        }

        .whatsapp-float i {
            font-size: 28px;
            color: white;
        }

        @keyframes pulse {
            0% { box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4); }
            50% { box-shadow: 0 4px 30px rgba(37, 211, 102, 0.8); }
            100% { box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4); }
        }

        /* Search */
        .search-input {
            background-color: #2d3748 !important;
            border-color: #4a5568 !important;
            color: white !important;
        }

        .search-input:focus {
            border-color: var(--brand-gold) !important;
            box-shadow: 0 0 0 0.25rem rgba(255, 215, 0, 0.25) !important;
            background-color: #2d3748 !important;
            color: white !important;
        }

        .search-input::placeholder {
            color: #a0aec0 !important;
        }

        /* Category Pills */
        .category-pill {
            background-color: #f8f9fa;
            border: 2px solid transparent;
            color: var(--brand-green);
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .category-pill:hover,
        .category-pill.active {
            background-color: var(--brand-green);
            border-color: var(--brand-green);
            color: white;
        }

        /* Section styling */
        .section-title {
            position: relative;
            display: inline-block;
        }

        .section-title:after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: var(--brand-gold);
        }

        /* Price styling */
        .price-tag {
            background: linear-gradient(45deg, var(--brand-green), var(--brand-green-light));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 800;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-section {
                min-height: 50vh;
            }
            
            .cart-sidebar {
                width: 100%;
                right: -100%;
            }
            
            .whatsapp-float {
                width: 55px;
                height: 55px;
                bottom: 20px;
                right: 20px;
            }
            
            .whatsapp-float i {
                font-size: 24px;
            }
        }

        /* Text shadows for hero */
        .hero-section h1 {
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
        }

        .hero-section p {
            text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
        }

        /* Loading animation */
        .btn-add-cart:disabled {
            background-color: #28a745;
            border-color: #28a745;
            opacity: 0.8;
        }

        /* Custom scrollbar for cart */
        .cart-items::-webkit-scrollbar {
            width: 6px;
        }

        .cart-items::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .cart-items::-webkit-scrollbar-thumb {
            background: var(--brand-green);
            border-radius: 3px;
        }

        .cart-items::-webkit-scrollbar-thumb:hover {
            background: var(--brand-green-dark);
        }

        /* Smooth scroll */
        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark brand-bg-black sticky-top shadow-lg">
        <div class="container">
            <a class="navbar-brand" href="#home">
                <i class="bi bi-flower1 me-2 text-warning"></i>
                Al Barakah Scents
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link brand-text-gold active" href="#home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="#catalog">Shop Our Collection</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="#about">About Us</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="#contact">Contact Us</a>
                    </li>
                </ul>
                
                <div class="d-flex align-items-center">
                    <div class="input-group me-3 d-none d-md-flex" style="width: 250px;">
                        <input type="text" class="form-control search-input bg-dark text-white border-secondary" 
                               placeholder="Search fragrances..." id="searchInput" aria-label="Search fragrances">
                        <button class="btn btn-outline-secondary" type="button" onclick="performSearch()" aria-label="Search">
                            <i class="bi bi-search"></i>
                        </button>
                    </div>
                    
                    <button class="btn btn-outline-light position-relative me-2" onclick="toggleCart()" aria-label="View cart">
                        <i class="bi bi-cart3"></i>
                        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill cart-badge" id="cartCount">0</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- WhatsApp Floating Button -->
    <div class="whatsapp-float" onclick="openWhatsApp()" aria-label="Contact us on WhatsApp">
        <i class="bi bi-whatsapp"></i>
    </div>

    <!-- Cart Sidebar -->
    <div class="cart-overlay" id="cartOverlay" onclick="toggleCart()"></div>
    <div class="cart-sidebar" id="cartSidebar">
        <div class="d-flex flex-column h-100">
            <div class="p-3 border-bottom bg-light">
                <div class="d-flex justify-content-between align-items-center">
                    <h5 class="mb-0 brand-text-green">
                        <i class="bi bi-cart3 me-2"></i>Shopping Cart
                    </h5>
                    <button class="btn btn-sm btn-outline-secondary" onclick="toggleCart()" aria-label="Close cart">
                        <i class="bi bi-x-lg"></i>
                    </button>
                </div>
            </div>
            
            <div class="flex-grow-1 overflow-auto p-3 cart-items" id="cartItems">
                <div class="text-center text-muted py-5">
                    <i class="bi bi-cart3 display-4"></i>
                    <p class="mt-3">Your cart is empty</p>
                    <p class="small">Add some beautiful fragrances!</p>
                </div>
            </div>
            
            <div class="border-top p-3 bg-light">
                <div class="d-flex justify-content-between mb-3">
                    <strong class="fs-5">Total: <span id="cartTotal" class="brand-text-green">PKR 0</span></strong>
                </div>
                <button class="btn btn-success w-100 mb-2" onclick="checkout()" id="checkoutBtn" disabled>
                    <i class="bi bi-credit-card me-2"></i>Checkout via WhatsApp
                </button>
                <button class="btn btn-outline-danger w-100" onclick="clearCart()">
                    <i class="bi bi-trash me-2"></i>Clear Cart
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section id="home" class="hero-section d-flex align-items-center">
            <div class="position-absolute top-0 start-0 w-100 h-100 hero-dark-overlay"></div>
            <div class="position-absolute top-0 start-0 w-100 h-100 hero-overlay"></div>
            
            <div class="container text-center text-white position-relative" style="z-index: 8;">
                <h1 class="display-5 fw-bold mb-4">
                    Welcome to Al Barakah Scents
                </h1>
                <p class="lead fs-2 mb-4">
                    Reviving the Sunnah of Fragrance with Purity and Passion
                </p>
                <p class="fs-5 mb-5 mx-auto" style="max-width: 700px;">
                    Experience the finest collection of natural attars and Islamic-inspired fragrances, 
                    crafted with the highest quality ingredients and traditional methods.
                </p>
                
                <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center">
                    <button class="btn btn-lg btn-explore px-3 py-3" onclick="scrollToSection('catalog')">
                        <i class="bi bi-shop me-5"></i>Shop Our Collection
                    </button>
                    <button class="btn btn-lg btn-outline-light px-5 py-3" onclick="scrollToSection('contact')">
                        <i class="bi bi-envelope me-2"></i>Contact Us
                    </button>
                </div>
            </div>
        </section>

        <!-- Product Catalog -->
        <section id="catalog" class="py-5 bg-light">
            <div class="container">
                <div class="text-center mb-5">
                    <h2 class="display-5 fw-bold brand-text-green section-title mb-4">Complete Catalog</h2>
                    <p class="lead text-muted">Browse our entire collection of premium attars and fragrances</p>
                </div>

                <!-- Category Filter -->
                <div class="d-flex flex-wrap justify-content-center gap-2 mb-5">
                    <button class="btn category-pill active" onclick="filterProducts('all')">All Products</button>
                    <button class="btn category-pill" onclick="filterProducts('popular')">Most Popular</button>
                    <button class="btn category-pill" onclick="filterProducts('male')">For Men</button>
                    <button class="btn category-pill" onclick="filterProducts('female')">For Women</button>
                    <button class="btn category-pill" onclick="filterProducts('unisex')">Unisex</button>
                    <button class="btn category-pill" onclick="filterProducts('premium')">Premium</button>
                </div>

                <!-- Product Grid -->
                <div class="row g-4" id="productGrid">
                    <!-- Products will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="py-5 bg-white">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-6">
                        <h2 class="display-5 fw-bold brand-text-green section-title mb-4">About Al Barakah Scents</h2>
                        <div class="bg-light rounded-3 p-4 mb-4">
                            <blockquote class="blockquote text-center">
                                <p class="fs-4 fst-italic brand-text-green fw-bold">
                                    "Reviving the Sunnah of Fragrance with Purity and Passion."
                                </p>
                            </blockquote>
                        </div>
                        <p class="lead mb-4">
                            At Al Barakah Scents, we are dedicated to reviving the blessed tradition of using natural fragrances 
                            as practiced by our beloved Prophet Muhammad (peace be upon him).
                        </p>
                        <p class="mb-4">
                            Our mission is to provide you with the purest, most authentic Islamic fragrances that connect you 
                            to this beautiful Sunnah. Every bottle represents our commitment to quality, authenticity, and 
                            the Islamic values of purity and excellence.
                        </p>
                        <div class="d-flex gap-3">
                            <button class="btn btn-warning" onclick="scrollToSection('catalog')">
                                <i class="bi bi-shop me-2"></i>Shop Now
                            </button>
                            <button class="btn btn-outline-primary" onclick="scrollToSection('contact')">
                                <i class="bi bi-envelope me-2"></i>Contact Us
                            </button>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <img src="https://images.pexels.com/photos/8450395/pexels-photo-8450395.jpeg?auto=compress&cs=tinysrgb&w=600" 
                             alt="Traditional Attar Making" class="img-fluid rounded-3 shadow-lg">
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-5 brand-bg-green text-white">
            <div class="container">
                <div class="text-center mb-5">
                    <h2 class="display-5 fw-bold section-title mb-4">Contact Us</h2>
                    <p class="lead">We'd love to hear from you. Get in touch with our team!</p>
                </div>
                
                <div class="row">
                    <div class="col-lg-6">
                        <div class="card bg-white text-dark mb-4">
                            <div class="card-body">
                                <h5 class="card-title brand-text-green">
                                    <i class="bi bi-telephone me-2"></i>Phone
                                </h5>
                                <p class="card-text fs-5 fw-bold">03470105539</p>
                                <small class="text-muted">Available 9 AM - 9 PM (PKT)</small>
                            </div>
                        </div>
                        
                        <div class="card bg-white text-dark mb-4">
                            <div class="card-body">
                                <h5 class="card-title brand-text-green">
                                    <i class="bi bi-envelope me-2"></i>Email
                                </h5>
                                <p class="card-text fs-5 fw-bold">albarakahscents@gmail.com</p>
                                <small class="text-muted">We'll respond within 24 hours</small>
                            </div>
                        </div>

                        <div class="card bg-white text-dark">
                            <div class="card-body">
                                <h5 class="card-title brand-text-green">
                                    <i class="bi bi-whatsapp me-2"></i>WhatsApp
                                </h5>
                                <p class="card-text fs-5 fw-bold">+92 347 0105539</p>
                                <button class="btn btn-success" onclick="openWhatsApp()">
                                    <i class="bi bi-whatsapp me-2"></i>Chat with us
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-header brand-bg-green-dark text-white">
                                <h4 class="mb-0">
                                    <i class="bi bi-send me-2"></i>Send Message
                                </h4>
                            </div>
                            <div class="card-body">
                                <form id="contactForm" onsubmit="submitContactForm(event)">
                                    <div class="mb-3">
                                        <label for="contactName" class="form-label">Full Name *</label>
                                        <input type="text" class="form-control" id="contactName" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="contactEmail" class="form-label">Email Address *</label>
                                        <input type="email" class="form-control" id="contactEmail" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="contactMessage" class="form-label">Message *</label>
                                        <textarea class="form-control" id="contactMessage" rows="4" required placeholder="Tell us about your fragrance preferences..."></textarea>
                                    </div>
                                    <button type="submit" class="btn brand-bg-green text-white w-100">
                                        <i class="bi bi-send me-2"></i>Send Message
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Customer Reviews -->
        <section class="py-5 bg-light">
            <div class="container">
                <h2 class="text-center brand-text-green fw-bold mb-5 section-title">What Our Customers Say</h2>
                <div class="row g-4">
                    <div class="col-md-6 col-lg-3">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body text-center">
                                <div class="mb-3">
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                </div>
                                <p class="card-text fst-italic">"Exceptional quality! The Rose Damascus is divine and long-lasting."</p>
                                <footer class="text-muted">- Fatima Ahmed</footer>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-3">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body text-center">
                                <div class="mb-3">
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                </div>
                                <p class="card-text fst-italic">"Natural fragrances that follow the Sunnah. Highly recommend!"</p>
                                <footer class="text-muted">- Muhammad Hassan</footer>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-3">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body text-center">
                                <div class="mb-3">
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                </div>
                                <p class="card-text fst-italic">"Beautiful packaging and authentic scents. Fast delivery too!"</p>
                                <footer class="text-muted">- Aisha Khan</footer>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-3">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body text-center">
                                <div class="mb-3">
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                </div>
                                <p class="card-text fst-italic">"Excellent customer service and premium quality attars."</p>
                                <footer class="text-muted">- Omar Ali</footer>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="brand-bg-black text-white py-5">
        <div class="container">
            <div class="row g-4">
                <div class="col-lg-4">
                    <h3 class="fw-bold mb-3">
                        <i class="bi bi-flower1 me-2 text-warning"></i>
                        Al Barakah Scents
                    </h3>
                    <p class="mb-3">Reviving the Sunnah of Fragrance with Purity and Passion.</p>
                    <p>Experience the finest collection of natural attars and Islamic-inspired fragrances.</p>
                    <div class="d-flex gap-3 mt-3">
                        <a href="#" class="text-light fs-4" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
                        <a href="#" class="text-light fs-4" onclick="openWhatsApp()" aria-label="WhatsApp"><i class="bi bi-whatsapp"></i></a>
                        <a href="#" class="text-light fs-4" aria-label="Facebook"><i class="bi bi-facebook"></i></a>
                        <a href="#" class="text-light fs-4" aria-label="YouTube"><i class="bi bi-youtube"></i></a>
                    </div>
                </div>
                
                <div class="col-md-6 col-lg-2">
                    <h5 class="fw-semibold mb-3">Quick Links</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="#home" class="text-decoration-none text-light">Home</a></li>
                        <li class="mb-2"><a href="#catalog" class="text-decoration-none text-light">Catalog</a></li>
                        <li class="mb-2"><a href="#about" class="text-decoration-none text-light">About Us</a></li>
                        <li class="mb-2"><a href="#contact" class="text-decoration-none text-light">Contact</a></li>
                    </ul>
                </div>

                <div class="col-md-6 col-lg-3">
                    <h5 class="fw-semibold mb-3">Categories</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><button class="btn btn-link text-light p-0" onclick="filterProducts('popular')">Popular Attars</button></li>
                        <li class="mb-2"><button class="btn btn-link text-light p-0" onclick="filterProducts('male')">For Men</button></li>
                        <li class="mb-2"><button class="btn btn-link text-light p-0" onclick="filterProducts('female')">For Women</button></li>
                        <li class="mb-2"><button class="btn btn-link text-light p-0" onclick="filterProducts('premium')">Premium Collection</button></li>
                    </ul>
                </div>
                
                <div class="col-lg-3">
                    <h5 class="fw-semibold mb-3">Contact Info</h5>
                    <p class="mb-2"><i class="bi bi-telephone me-2"></i>03470105539</p>
                    <p class="mb-2"><i class="bi bi-envelope me-2"></i>albarakahscents@gmail.com</p>
                    <p class="mb-3"><i class="bi bi-whatsapp me-2"></i>+92 347 0105539</p>
                    <button class="btn btn-success btn-sm" onclick="openWhatsApp()">
                        <i class="bi bi-whatsapp me-2"></i>Quick Order
                    </button>
                </div>
            </div>
            
            <hr class="my-4">
            <div class="text-center">
                <p class="mb-0">¬© 2025 Al Barakah Scents. All Rights Reserved. | Made with ‚ù§Ô∏è for the Ummah</p>
            </div>
        </div>
    </footer>
    
    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    
    <script>
        // Complete Product Database
        const products = [
            { id: 1, name: "Oud Al Malaki", price: 2500, size: "6ml", category: "popular male premium", image: "https://images.pexels.com/photos/965989/pexels-photo-965989.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Premium Cambodian Oud" },
            { id: 2, name: "Rose Damascus", price: 1800, size: "6ml", category: "popular female", image: "https://images.pexels.com/photos/1458916/pexels-photo-1458916.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Pure Bulgarian Rose" },
            { id: 3, name: "Musk Al Tahara", price: 2200, size: "6ml", category: "popular unisex", image: "https://images.pexels.com/photos/7639526/pexels-photo-7639526.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Traditional White Musk" },
            { id: 4, name: "Amber Kashmiri", price: 2000, size: "6ml", category: "popular male", image: "https://images.pexels.com/photos/8450395/pexels-photo-8450395.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Rich Amber Blend" },
            { id: 5, name: "Jasmine Royal", price: 1600, size: "6ml", category: "popular female", image: "https://images.pexels.com/photos/4041392/pexels-photo-4041392.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Night Blooming Jasmine" },
            { id: 6, name: "Sandalwood Pure", price: 2800, size: "6ml", category: "popular male premium", image: "https://images.pexels.com/photos/7639525/pexels-photo-7639525.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Mysore Sandalwood" },
            { id: 7, name: "White Tea Essence", price: 1500, size: "6ml", category: "unisex", image: "https://images.pexels.com/photos/8624586/pexels-photo-8624586.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Fresh Tea Leaves" },
            { id: 8, name: "Black Pepper Spice", price: 1700, size: "6ml", category: "male", image: "https://images.pexels.com/photos/6915028/pexels-photo-6915028.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Warm Spicy Blend" },
            { id: 9, name: "Vanilla Orchid", price: 1900, size: "6ml", category: "female", image: "https://images.pexels.com/photos/7598173/pexels-photo-7598173.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Sweet Vanilla Flower" },
            { id: 10, name: "Cedar Fresh", price: 2100, size: "6ml", category: "male", image: "https://images.pexels.com/photos/4735908/pexels-photo-4735908.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Cedarwood Forest" },
            { id: 11, name: "Lavender Fields", price: 1400, size: "6ml", category: "female unisex", image: "https://images.pexels.com/photos/8625543/pexels-photo-8625543.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Calming Lavender" },
            { id: 12, name: "Frankincense Sacred", price: 3200, size: "6ml", category: "premium unisex", image: "https://images.pexels.com/photos/8624586/pexels-photo-8624586.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Pure Omani Frankincense" },
            { id: 13, name: "Bergamot Citrus", price: 1300, size: "6ml", category: "unisex", image: "https://images.pexels.com/photos/6915028/pexels-photo-6915028.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Fresh Bergamot" },
            { id: 14, name: "Patchouli Deep", price: 2400, size: "6ml", category: "male premium", image: "https://images.pexels.com/photos/7598173/pexels-photo-7598173.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Earthy Patchouli" },
            { id: 15, name: "Neroli Blossom", price: 2600, size: "6ml", category: "female premium", image: "https://images.pexels.com/photos/4735908/pexels-photo-4735908.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Orange Blossom" },
            { id: 16, name: "Myrrh Ancient", price: 2900, size: "6ml", category: "premium unisex", image: "https://images.pexels.com/photos/8625543/pexels-photo-8625543.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Sacred Myrrh Resin" },
            { id: 17, name: "Cardamom Spice", price: 1600, size: "6ml", category: "male", image: "https://images.pexels.com/photos/965989/pexels-photo-965989.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Green Cardamom" },
            { id: 18, name: "Pine Forest", price: 1800, size: "6ml", category: "male", image: "https://images.pexels.com/photos/1458916/pexels-photo-1458916.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Fresh Pine Needles" },
            { id: 19, name: "Lily Valley", price: 2000, size: "6ml", category: "female", image: "https://images.pexels.com/photos/7639526/pexels-photo-7639526.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Lily of the Valley" },
            { id: 20, name: "Tuberose Night", price: 2200, size: "6ml", category: "female premium", image: "https://images.pexels.com/photos/8450395/pexels-photo-8450395.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Night Tuberose" },
            { id: 21, name: "Royal Oud Supreme", price: 4500, size: "12ml", category: "premium male", image: "https://images.pexels.com/photos/4041392/pexels-photo-4041392.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Aged Oud Wood" },
            { id: 22, name: "Rose Gold Elite", price: 3800, size: "12ml", category: "premium female", image: "https://images.pexels.com/photos/7639525/pexels-photo-7639525.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Premium Rose Blend" },
            { id: 23, name: "Saffron Luxury", price: 4200, size: "12ml", category: "premium unisex", image: "https://images.pexels.com/photos/8624586/pexels-photo-8624586.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Kashmir Saffron" },
            { id: 24, name: "Musk Imperial", price: 3600, size: "12ml", category: "premium unisex", image: "https://images.pexels.com/photos/6915028/pexels-photo-6915028.jpeg?auto=compress&cs=tinysrgb&w=400", description: "Premium White Musk" }
        ];

        // Cart functionality
        let cart = JSON.parse(localStorage.getItem('alBarakahCart')) || [];
        let currentFilter = 'all';

        // Render products
        function renderProducts(productsToShow = products) {
            const grid = document.getElementById('productGrid');
            grid.innerHTML = productsToShow.map(product => createProductCard(product)).join('');
        }

        function createProductCard(product) {
            const cartItem = cart.find(item => item.id === product.id);
            const quantity = cartItem ? cartItem.quantity : 0;
            const isPremium = product.category.includes('premium');
            
            return `
                <div class="col-lg-3 col-md-4 col-sm-6">
                    <div class="card product-card">
                        ${isPremium ? '<div class="position-absolute top-0 end-0 m-2"><span class="badge bg-warning text-dark">PREMIUM</span></div>' : ''}
                        <div class="product-image p-3">
                            <img src="${product.image}" alt="${product.name}" class="img-fluid" loading="lazy">
                        </div>
                        <div class="card-body">
                            <h5 class="card-title fw-bold">${product.name}</h5>
                            <p class="card-text text-muted small mb-2">${product.description}</p>
                            <p class="text-muted small mb-2">${product.size}</p>
                            <p class="fs-5 fw-bold price-tag mb-3">PKR ${product.price.toLocaleString()}</p>
                            <button class="btn btn-add-cart text-white w-100" onclick="addToCart(${product.id})" aria-label="Add ${product.name} to cart">
                                <i class="bi bi-cart-plus me-2"></i>Add to Cart
                                ${quantity > 0 ? `<span class="badge cart-badge ms-2">${quantity}</span>` : ''}
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        // Filter products
        function filterProducts(category) {
            currentFilter = category;
            
            // Update active button
            document.querySelectorAll('.category-pill').forEach(btn => {
                btn.classList.remove('active');
            });
            const targetButton = document.querySelector(`[onclick="filterProducts('${category}')"]`);
            if (targetButton) targetButton.classList.add('active');
            
            let filteredProducts = products;
            if (category !== 'all') {
                filteredProducts = products.filter(product => 
                    product.category.includes(category)
                );
            }
            
            renderProducts(filteredProducts);
        }

        // Cart functions
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ ...product, quantity: 1 });
            }
            
            saveCart();
            updateCartUI();
            renderProducts(getCurrentProducts());
            showAddFeedback(event.target);
        }

        function getCurrentProducts() {
            if (currentFilter === 'all') return products;
            return products.filter(product => product.category.includes(currentFilter));
        }

        function showAddFeedback(button) {
            const originalText = button.innerHTML;
            button.innerHTML = '<i class="bi bi-check-circle me-2"></i>Added!';
            button.disabled = true;
            
            setTimeout(() => {
                button.innerHTML = originalText;
                button.disabled = false;
            }, 1500);
        }

        function updateCartUI() {
            const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);
            const cartTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            document.getElementById('cartCount').textContent = cartCount;
            document.getElementById('cartTotal').textContent = `PKR ${cartTotal.toLocaleString()}`;
            
            const cartItemsContainer = document.getElementById('cartItems');
            const checkoutBtn = document.getElementById('checkoutBtn');
            
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = `
                    <div class="text-center text-muted py-5">
                        <i class="bi bi-cart3 display-4"></i>
                        <p class="mt-3">Your cart is empty</p>
                        <p class="small">Add some beautiful fragrances!</p>
                    </div>
                `;
                checkoutBtn.disabled = true;
            } else {
                cartItemsContainer.innerHTML = cart.map(item => `
                    <div class="card mb-3 shadow-sm">
                        <div class="card-body">
                            <div class="row align-items-center">
                                <div class="col-3">
                                    <img src="${item.image}" alt="${item.name}" class="img-fluid rounded" loading="lazy">
                                </div>
                                <div class="col-9">
                                    <h6 class="mb-1 fw-bold">${item.name}</h6>
                                    <p class="text-muted small mb-1">${item.description}</p>
                                    <p class="text-muted small mb-2">${item.size}</p>
                                    <p class="fw-bold text-success mb-2">PKR ${item.price.toLocaleString()}</p>
                                    <div class="d-flex align-items-center gap-2">
                                        <button class="btn btn-sm btn-outline-secondary" onclick="updateQuantity(${item.id}, -1)" aria-label="Decrease quantity of ${item.name}">
                                            <i class="bi bi-dash"></i>
                                        </button>
                                        <span class="fw-semibold px-3 py-1 bg-light rounded">${item.quantity}</span>
                                        <button class="btn btn-sm btn-outline-secondary" onclick="updateQuantity(${item.id}, 1)" aria-label="Increase quantity of ${item.name}">
                                            <i class="bi bi-plus"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger ms-auto" onclick="removeFromCart(${item.id})" aria-label="Remove ${item.name} from cart">
                                            <i class="bi bi-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `).join('');
                checkoutBtn.disabled = false;
            }
        }

        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    saveCart();
                    updateCartUI();
                    renderProducts(getCurrentProducts());
                }
            }
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            saveCart();
            updateCartUI();
            renderProducts(getCurrentProducts());
        }

        function clearCart() {
            if (confirm('Are you sure you want to clear your cart?')) {
                cart = [];
                saveCart();
                updateCartUI();
                renderProducts(getCurrentProducts());
            }
        }

        function saveCart() {
            localStorage.setItem('alBarakahCart', JSON.stringify(cart));
        }

        function toggleCart() {
            const sidebar = document.getElementById('cartSidebar');
            const overlay = document.getElementById('cartOverlay');
            
            sidebar.classList.toggle('show');
            overlay.classList.toggle('show');
        }

        function openWhatsApp() {
            const phoneNumber = '923470105539';
            const message = encodeURIComponent('Assalamu Alaikum! I\'m interested in your natural attars and fragrances. Can you please help me with my order?');
            const whatsappURL = `https://wa.me/${phoneNumber}?text=${message}`;
            window.open(whatsappURL, '_blank');
        }

        function checkout() {
            if (cart.length === 0) return;
            
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const itemCount = cart.reduce((sum, item) => sum + item.quantity, 0);
            
            let orderSummary = 'Assalamu Alaikum! I want to place an order:\n\n';
            cart.forEach(item => {
                orderSummary += `${item.name} (${item.size}) x${item.quantity} = PKR ${(item.price * item.quantity).toLocaleString()}\n`;
            });
            orderSummary += `\nTotal Items: ${itemCount}\nTotal Amount: PKR ${total.toLocaleString()}\n\nPlease confirm my order. JazakAllahu Khairan!`;
            
            const phoneNumber = '923470105539';
            const whatsappURL = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(orderSummary)}`;
            
            window.open(whatsappURL, '_blank');
            
            alert(`üéâ Order Summary Sent to WhatsApp!\n\nItems: ${itemCount}\nTotal: PKR ${total.toLocaleString()}\n\nYour order details have been sent to our WhatsApp. We'll confirm your order shortly.\n\nJazakAllahu Khairan for choosing Al Barakah Scents!`);
            
            cart = [];
            saveCart();
            updateCartUI();
            renderProducts(getCurrentProducts());
            toggleCart();
        }

        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }

        function performSearch() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase().trim();
            if (!searchTerm) {
                renderProducts();
                return;
            }
            
            const filteredProducts = products.filter(product => 
                product.name.toLowerCase().includes(searchTerm) ||
                product.description.toLowerCase().includes(searchTerm) ||
                product.category.toLowerCase().includes(searchTerm)
            );
            
            renderProducts(filteredProducts);
            
            if (filteredProducts.length === 0) {
                document.getElementById('productGrid').innerHTML = `
                    <div class="col-12 text-center py-5">
                        <i class="bi bi-search display-1 text-muted"></i>
                        <h3 class="mt-3 text-muted">No products found</h3>
                        <p class="text-muted">Try searching for "oud", "rose", "musk" or other fragrance names</p>
                        <button class="btn btn-primary" onclick="renderProducts(); document.getElementById('searchInput').value=''">
                            Show All Products
                        </button>
                    </div>
                `;
            }
        }

        function submitContactForm(event) {
            event.preventDefault();
            const name = document.getElementById('contactName').value.trim();
            const email = document.getElementById('contactEmail').value.trim();
            const message = document.getElementById('contactMessage').value.trim();
            
            if (!name || !email || !message) {
                alert('Please fill in all required fields.');
                return;
            }
            
            const whatsappMessage = `Assalamu Alaikum! Contact Form Submission:\n\nName: ${name}\nEmail: ${email}\n\nMessage: ${message}\n\nJazakAllahu Khairan!`;
            const phoneNumber = '923470105539';
            const whatsappURL = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(whatsappMessage)}`;
            
            window.open(whatsappURL, '_blank');
            
            alert(`Thank you ${name}!\n\nYour message has been sent via WhatsApp. We'll respond to ${email} within 24 hours.\n\nJazakAllahu Khairan for contacting Al Barakah Scents!`);
            
            document.getElementById('contactForm').reset();
        }

        async function loadProducts() {
            try {
                const res = await fetch("http://127.0.0.1:8000/api/products/");
                const data = await res.json();
                products.push(...data);
                renderProducts();
                console.log('Products loaded:', data);
            } catch (error) {
                console.error('Error loading products:', error);
                alert('Failed to load products from the server. Displaying local products.');
                renderProducts();
            }
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            loadProducts();
            updateCartUI();
            
            document.getElementById('searchInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });
            
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });
        });

        // Close cart when clicking outside
        document.addEventListener('click', function(e) {
            const cartSidebar = document.getElementById('cartSidebar');
            const cartBtn = e.target.closest('[onclick*="toggleCart"]');
            
            if (!cartSidebar.contains(e.target) && !cartBtn && cartSidebar.classList.contains('show')) {
                toggleCart();
            }
        });
    </script>
    <script src="{% static 'js/script.js' %}"></script>
</body>
</html>